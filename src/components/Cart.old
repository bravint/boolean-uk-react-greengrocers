import Item from './CartItem'
import CartItems from '../data/items'

import { useState } from 'react'

const initialCartItems = []

function Cart () {

const [cart, setCart] = useState(initialCartItems)

const CartTotal = () => {
    let total = 0
    CartItems.forEach(element => total += ((element.price)*(element.qty)))
    return total.toFixed(2)
}

const displayItems = () => {
    const updatedCart = cart.filter(element => element > 0)
    setCart(updatedCart)
}

const updateQuantity = (input, item) => {
    if (input > 0) {
       return (input == 'plus' ? item.qty++ : item.qty--)
    }
    displayItems()
}

    return (
        <>
            <main id="cart">
                <h2>Your Cart</h2>
                    <div className="cart--item-list-container">
                        <ul className="item-list cart--item-list">
                        {cart.map((item) => (
                            <Item item={item} key={item.id} />
                        ))}
                        </ul>
                    </div>
                    <div className="total-section">
                        <div>
                            <h3>Total</h3>
                        </div>
                        <div>
                            <span className="total-number">{CartTotal()}</span>
                        </div>
                    </div>
            </main>
        </>
    )
}

export default Cart